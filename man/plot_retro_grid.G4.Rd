% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_retro_grid.G4.R
\name{plot_retro_grid.G4}
\alias{plot_retro_grid.G4}
\title{Plot retrospective diagnostics grid for multiple SPiCT models}
\usage{
plot_retro_grid.G4(
  models,
  scenario_name = "Scenario 1",
  peel_colors = NULL,
  palette = "JABBA",
  width = 16,
  height = 10,
  dpi = 400,
  output_dir = NULL,
  filename = NULL
)
}
\arguments{
\item{models}{A named list of fitted SPiCT models, typically including retro results.
Example: \code{list(S1F = model_fox, S1P = model_pella, S1S = model_schaefer)}}

\item{scenario_name}{A character string used as the title of the plot. Also used
to generate the output filename if \code{filename} is not provided.}

\item{peel_colors}{Optional character vector of colors to assign to each peel.
If NULL, a default palette is used (JABBA or MetBrewer).}

\item{palette}{A character string specifying the color palette to use for peels.
Options include "JABBA" or any valid palette from \code{MetBrewer::list_met_palettes()}.}

\item{width}{Numeric. Width (in inches) of the output PNG file if saved.}

\item{height}{Numeric. Height (in inches) of the output PNG file if saved.}

\item{dpi}{Resolution of the saved figure in dots per inch.}

\item{output_dir}{Optional character string specifying the directory where the figure
should be saved. If NULL, the plot is not saved.}

\item{filename}{Optional filename (with .png extension) for saving the figure. If NULL,
a name will be auto-generated from \code{scenario_name}.}
}
\value{
A \code{patchwork} plot object displaying the full grid of retrospective plots.
Invisibly returns the plot for further customization or saving.
}
\description{
Generates a grid of retrospective plots (B, F, B/Bmsy, F/Fmsy) for each model
in a named list. Each column represents one model, and each row a metric.
The function also annotates Mohn's rho for B/Bmsy and F/Fmsy. Optionally saves
the output to file.
}
\details{
The function extracts B, F, B/Bmsy, and F/Fmsy trajectories for each model and
peel, computes Mohnâ€™s rho values for B/Bmsy and F/Fmsy, and assembles them into
a clean grid using the \pkg{patchwork} package. Confidence intervals are shown
with shaded bands. The peel legend is embedded as a subtitle using colored dots.

If \code{output_dir} is provided, the figure is saved as a high-resolution PNG.
This function is useful for summarizing and comparing retrospective performance
across multiple production model fits (e.g., Fox, Schaefer, Pella).
}
\examples{
\dontrun{
models <- list(S1F = model_fox, S1P = model_pella, S1S = model_schaefer)
plot_retro_grid.ELU4(models, scenario_name = "Scenario 1", output_dir = "FIG")
}

}
\seealso{
\code{\link{retro}}, \code{\link{mohns_rho}}, \code{\link{plot_retro_grid.ELU5}}
}
