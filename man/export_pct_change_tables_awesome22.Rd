% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export_pct_change_tables_awesome22.R
\name{export_pct_change_tables_awesome22}
\alias{export_pct_change_tables_awesome22}
\title{Export color-coded percent-change tables to LaTeX (SDM & GLM)}
\usage{
export_pct_change_tables_awesome22(
  pct,
  output_dir = "FIG",
  file_stub = "pct_change_vs_S4",
  caption_base = "Percent change of estimates relative to base scenario S4",
  zero_tol = 0.05,
  sdm_wrap_footnotesize = TRUE
)
}
\arguments{
\item{pct}{A list returned by \code{\link[=compute_param_pct_change]{compute_param_pct_change()}}, containing a
\code{wide} element with data frames \code{wide$SDM} and/or \code{wide$GLM}. Each wide
table must have columns: \code{Family}, \code{Param}, and one column per scenario
(excluding the base), whose values are formatted strings like \code{"+3.2\%"}.}

\item{output_dir}{Directory where the \code{.tex} files will be written.
Default \code{"FIG"}. Created if it does not exist.}

\item{file_stub}{File name stub (prefix) used for both outputs. Default
\code{"pct_change_vs_S4"}.}

\item{caption_base}{Base caption text used for both tables; the function
appends the type (SDM/GLM). Default
\code{"Percent change of estimates relative to base scenario S4"}.}

\item{zero_tol}{Numeric tolerance in percent units; cells with
\verb{abs(\% change) <= zero_tol} are colored gray to indicate “no meaningful
change.” Default \code{0.05} (i.e., 0.05\\\%).}

\item{sdm_wrap_footnotesize}{Logical; if \code{TRUE}, wraps the \strong{SDM} table in
a \verb{\\\\begin\{footnotesize\} ... \\\\end\{footnotesize\}} block for extra compactness.
Default \code{TRUE}. The GLM table is not wrapped by default.}
}
\value{
(Invisibly) \code{TRUE} on success. Side effect: writes up to two \code{.tex}
files to \code{output_dir}.
}
\description{
Takes the output of \code{\link[=compute_param_pct_change]{compute_param_pct_change()}}—specifically \code{pct$wide$SDM}
and/or \code{pct$wide$GLM}—and writes \strong{two LaTeX tables} (one per \code{type}) with
compact formatting, alternating row shading within families, and colored cells
for positive/negative/near-zero changes. Files are saved as
\code{file.path(output_dir, paste0(file_stub, "_SDM.tex"))} and
\code{file.path(output_dir, paste0(file_stub, "_GLM.tex"))}.
}
\details{
\strong{Expected input structure:} \code{pct$wide$SDM} and/or \code{pct$wide$GLM} as produced
by \code{\link[=compute_param_pct_change]{compute_param_pct_change()}}, with:
\itemize{
\item \code{Family} (model family label), \code{Param} (parameter label),
\item one column per scenario (e.g., \code{S1}, \code{S2}, \code{S5}, ...), whose cells are
strings like \code{"+1.2\%"}, \code{"-0.4\%"}, or \code{""} for missing values.
}

\strong{Color rules:}
\itemize{
\item \verb{|value| <= zero_tol} → \verb{\\\{\\\\textcolor\{gray\}\{...\}\\\}} (neutral).
\item \code{value > 0} → \verb{\\\{\\\\textcolor\{teal\}\{...\}\\\}} (positive).
\item \code{value < 0} → \verb{\\\{\\\\textcolor\{red!70!black\}\{...\}\\\}} (negative).
}

\strong{Row shading:} Within each \code{Family} block, rows alternate \verb{\\\\cellcolor\{gray!10\}}.

\strong{LaTeX requirements:} Ensure your preamble includes

\if{html}{\out{<div class="sourceCode latex">}}\preformatted{\\usepackage[table]\{xcolor\}  \% for \\cellcolor and \\textcolor
\\usepackage\{booktabs\}       \% optional, for \\addlinespace if you use it elsewhere
}\if{html}{\out{</div>}}
}
\examples{
\dontrun{
pct <- compute_param_pct_change(param_df, base_scenario = "S4")
export_pct_change_tables_awesome22(
  pct,
  output_dir   = "FIG",
  file_stub    = "pct_change_vs_S4",
  caption_base = "Percent change of estimates relative to base scenario S4",
  zero_tol     = 0.05
)
# Files written:
#   FIG/pct_change_vs_S4_SDM.tex
#   FIG/pct_change_vs_S4_GLM.tex
}

}
\seealso{
\code{\link[=compute_param_pct_change]{compute_param_pct_change()}}
}
