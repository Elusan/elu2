% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_retro_grid.G4_B_et_F2_Corrected.R
\name{plot_retro_grid.G4_B_et_F2_Corrected}
\alias{plot_retro_grid.G4_B_et_F2_Corrected}
\title{Retrospective diagnostics grid (B, F, B/Bmsy, F/Fmsy) for multiple SPiCT models}
\usage{
plot_retro_grid.G4_B_et_F2_Corrected(
  models,
  scenario_name = "Scenario 1",
  peel_colors = NULL,
  palette = "JABBA",
  width = 20,
  height = 8,
  dpi = 400,
  output_dir = NULL,
  filename = NULL
)
}
\arguments{
\item{models}{Named list of fitted SPiCT models \strong{with} \code{rep$retro} already computed.
Each element must be a \code{spictcls}-like list containing \verb{$retro} (a list of peel fits).
Names of \code{models} are used as column headers (e.g. \code{"S1P"}, \code{"S1F"}, \code{"S1S"}).}

\item{scenario_name}{Title shown above the grid.}

\item{peel_colors}{\code{NULL} (auto), a character vector of colors, or a function
returning a color vector given \code{n} (e.g., \code{function(n) scales::hue_pal()(n)}).}

\item{palette}{Palette keyword. \code{"JABBA"} uses a fixed fallback palette unless
\code{jabba_colors} exists in the search path. Any valid MetBrewer palette name
(if the package is installed) is also accepted; otherwise a hue palette is used.}

\item{width, height, dpi}{Size/hardcopy parameters (used only if \code{output_dir} is non-\code{NULL}).}

\item{output_dir}{Optional directory to save a PNG. If provided, a file is written.}

\item{filename}{Optional filename for the PNG. If missing, one is derived from \code{scenario_name}.}
}
\value{
A \code{ggplot}/\code{patchwork} object combining all panels.
}
\description{
Builds a multi-column grid (one column per model) with 4 panels per model:
biomass \eqn{B_t}, fishing mortality \eqn{F_t}, \eqn{B_t/B_{MSY}}, and
\eqn{F_t/F_{MSY}}. Includes Mohn's rho annotations when available.

Robust color handling:
\itemize{
\item \code{peel_colors} may be \code{NULL}, a character vector of hex/color names, or a
function that returns a character vector (e.g. \code{function(n) ...}).
\item Deterministic naming/order of peels (\"All\" then numeric peels in
descending order, then non-numeric).
}
}
\examples{
\dontrun{
# Suppose 'mods' is a named list of models with $retro already computed:
p <- plot_retro_grid.G4_B_et_F2_Corrected(
  models = mods, scenario_name = "Scenario 1", palette = "JABBA"
)
print(p)
}
}
