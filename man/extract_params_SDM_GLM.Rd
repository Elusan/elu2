% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_params_SDM_GLM.R,
%   R/plot_param_grid_3rows_by_family888.R
\name{extract_params_SDM_GLM}
\alias{extract_params_SDM_GLM}
\title{Extract K, r, MSY, B/Bmsy, F/Fmsy (with CIs) from SDM+GLM SPiCT models}
\usage{
extract_params_SDM_GLM(model_list, scenarios = NULL, verbose = TRUE)

extract_params_SDM_GLM(model_list, scenarios = NULL, verbose = TRUE)
}
\arguments{
\item{model_list}{A \strong{named} list of fitted model objects. Names are used
to derive scenario/model family (e.g., \code{"S1P"} \textrightarrow{} scenario \code{"S1"}, family \code{"Pella"}).}

\item{scenarios}{Optional character vector of scenario labels to keep/order
(e.g., \code{paste0("S", 1:7)}). If \code{NULL}, scenarios are inferred from names.}

\item{verbose}{Logical; if \code{TRUE} (default) print minimal progress messages.}
}
\value{
A tidy data frame with columns:
\itemize{
\item \code{scenario} — Scenario ID (e.g., \code{"S1"}).
\item \code{type} — Model type (\code{"SDM"} or \code{"GLM"}).
\item \code{family} — \code{"Fox"}, \code{"Schaefer"}, or \code{"Pella"}.
\item \code{param} — one of \code{"K"}, \code{"r"}, \code{"MSY"}, \code{"B/Bmsy"}, \code{"F/Fmsy"}.
\item \code{year} — Year embedded in a ratio label (if any), otherwise \code{NA_integer_}.
\item \code{est} — Point estimate (numeric).
\item \code{lo} — Lower 95\\\% CI (numeric).
\item \code{hi} — Upper 95\\\% CI (numeric).
}

Factor levels are set to \code{family = c("Fox","Schaefer","Pella")},
\code{type = c("SDM","GLM")}, and
\code{param = c("K","r","MSY","B/Bmsy","F/Fmsy")}.

A tidy \code{data.frame} with columns including (at least):
\code{scenario}, \code{type} (\code{"SDM"}/\code{"GLM"}), \code{family}
(\code{"Pella"}/\code{"Fox"}/\code{"Schaefer"}), \code{param}
(\code{"K"}, \code{"r"}, \code{"MSY"}, \code{"B/Bmsy"}, \code{"F/Fmsy"}),
\code{year} (for ratios, may be \code{NA} otherwise), \code{est}, \code{lo}, \code{hi}.
}
\description{
Builds a tidy data frame of selected parameters and their 95\% confidence
intervals for \strong{both} SDM and GLM model types across scenarios and Fox /
Schaefer / Pella families. The function relies on your helper
\code{make_spict_summary_df1_nopipe()} to create per-scenario summary tables
and then reshapes and filters to the requested parameters.

Iterates over a named list of fitted models and returns a tidy table of
parameter estimates and confidence intervals for the key quantities:
\code{K}, \code{r}, \code{MSY}, \code{B/Bmsy}, \code{F/Fmsy}.
The function expects your \code{make_spict_summary_df1_nopipe()} helper to be
available and uses it to standardize summaries across models.
}
\details{
The function parses LaTeX-style parameter labels produced by
\code{make_spict_summary_df1_nopipe()} and maps them to the keys
\code{"K"}, \code{"r"}, \code{"MSY"}, \code{"B/Bmsy"}, \code{"F/Fmsy"}.
If a ratio label embeds a year (e.g., \verb{$B_\{2022\}/B_\{MSY\}$}), the year
is extracted into the \code{year} column; otherwise \code{year} is left
as \code{NA_integer_}. Parameters not in the requested set are discarded.

\itemize{
\item The function parses names like \code{"S1P"} to infer scenario \code{"S1"} and family
(\code{"P"} \textrightarrow{} \code{"Pella"}, \code{"F"} \textrightarrow{} \code{"Fox"}, \code{"S"} \textrightarrow{} \code{"Schaefer"}).
\item Uses your \code{make_spict_summary_df1_nopipe()} to produce standardized parameter summaries.
\item Rows with non-finite estimates/intervals are dropped.
}
}
\section{Required input format}{

\itemize{
\item \strong{Named} \code{model_list} with names that match \code{"<scenario><family>.<type>"}; e.g.:
\code{"S1F.SDM"}, \code{"S1S.GLM"}, \code{"S1P.SDM"}, … where
\verb{scenario = S\\\\d+}, \verb{family ∈ \{F,S,P\}} (Fox, Schaefer, Pella),
and \verb{type ∈ \{SDM, GLM\}}.
\item \code{make_spict_summary_df1_nopipe()} must be available in the search path
and return a wide table with columns:
\code{Scenario}, \code{Parameters},
\code{Fox_estimate}, \code{Fox_low}, \code{Fox_up},
\code{Schaefer_estimate}, \code{Schaefer_low}, \code{Schaefer_up},
\code{Pella_estimate}, \code{Pella_low}, \code{Pella_up}.
}
}

\section{Expected input}{

\itemize{
\item \code{model_list}: a \strong{named} list. Names encode scenario/model, e.g. \code{"S1P"}, \code{"S1F"}, \code{"S1S"}.
\item Each element is a fitted object compatible with \code{make_spict_summary_df1_nopipe()}.
}
}

\examples{
\dontrun{
# Sensitivity_SDM_GLM_models <- list(
#   S1P.SDM = S1_Pella.SDM, S1S.SDM = S1_Schaefer.SDM, S1F.SDM = S1_Fox.SDM,
#   S1P.GLM = S1_Pella.GLM,  S1S.GLM = S1_Schaefer.GLM,  S1F.GLM = S1_Fox.GLM
# )
#
# Ensure make_spict_summary_df1_nopipe() is defined/loaded:
# source("make_spict_summary_df1_nopipe.R")
#
tab <- extract_params_SDM_GLM(Sensitivity_SDM_GLM_models, scenarios = paste0("S", 1:7))
head(tab)
}

\dontrun{
tbl <- extract_params_SDM_GLM(models_all, scenarios = paste0("S", 1:7))
head(tbl)
}

}
\seealso{
\code{\link[=make_spict_summary_df1_nopipe]{make_spict_summary_df1_nopipe()}}

\code{\link{plot_param_grid_3rows_by_family888}}
}
